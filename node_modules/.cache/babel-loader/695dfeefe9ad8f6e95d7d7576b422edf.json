{"ast":null,"code":"var _jsxFileName = \"/home/carlos/Documents/Praxis/Personal Club/Improved Site - Client/client/src/pages/listaDeAlunos.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport MUIDataTable from 'mui-datatables';\nimport { createBrowserHistory } from 'history';\nconst history = createBrowserHistory();\nconst columns = [{\n  name: 'nome',\n  label: 'Nome',\n  options: {\n    filter: true,\n    sort: true\n  }\n}, {\n  name: 'matricula',\n  label: 'Matricula',\n  options: {\n    filter: true,\n    sort: true\n  }\n}, {\n  name: 'cpf',\n  label: 'CPF',\n  options: {\n    filter: true,\n    sort: true\n  }\n}, {\n  name: 'sexo',\n  label: 'Sexo',\n  options: {\n    filter: true,\n    sort: true\n  }\n}, {\n  name: 'id',\n  label: 'Id',\n  options: {\n    filter: false,\n    sort: false,\n    display: false\n  }\n}];\nconst data = [];\nconst options = {\n  selectableRows: 'none',\n  filter: false,\n  print: false,\n  download: false,\n  viewColumns: false,\n  onRowClick: e => {\n    history.push({\n      pathname: '/aluno',\n      state: {\n        id: e[e.length - 1]\n      }\n    });\n    window.location.reload();\n  }\n};\n\nclass listaDeAlunos extends Component {\n  constructor() {\n    super();\n    this.state = {\n      alunos: null\n    };\n  }\n\n  componentDidMount() {\n    const config = {\n      headers: {\n        Authorization: localStorage.FBidToken\n      }\n    };\n    axios.get('/listaDeAlunos', config).then(res => {\n      console.log(res.data);\n\n      for (let aluno in res.data) {\n        res.data[aluno].sexo = res.data[aluno].sexo ? 'Masculino' : 'Feminino';\n        data.push(res.data[aluno]);\n      }\n\n      this.setState({\n        alunos: true\n      });\n      console.log(data);\n    }).catch(err => {\n      this.setState({\n        errors: err.response.data,\n        alunos: true\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      alunos: null\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.alunos && React.createElement(MUIDataTable, {\n      title: 'Alunos',\n      data: data,\n      columns: columns,\n      options: options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default listaDeAlunos;","map":{"version":3,"sources":["/home/carlos/Documents/Praxis/Personal Club/Improved Site - Client/client/src/pages/listaDeAlunos.js"],"names":["React","Component","axios","MUIDataTable","createBrowserHistory","history","columns","name","label","options","filter","sort","display","data","selectableRows","print","download","viewColumns","onRowClick","e","push","pathname","state","id","length","window","location","reload","listaDeAlunos","constructor","alunos","componentDidMount","config","headers","Authorization","localStorage","FBidToken","get","then","res","console","log","aluno","sexo","setState","catch","err","errors","response","componentWillUnmount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport MUIDataTable from 'mui-datatables'\nimport { createBrowserHistory } from 'history'\n\nconst history = createBrowserHistory()\n\nconst columns = [\n  {\n    name: 'nome',\n    label: 'Nome',\n    options: {\n      filter: true,\n      sort: true\n    }\n  },\n  {\n    name: 'matricula',\n    label: 'Matricula',\n    options: {\n      filter: true,\n      sort: true\n    }\n  },\n  {\n    name: 'cpf',\n    label: 'CPF',\n    options: {\n      filter: true,\n      sort: true\n    }\n  },\n  {\n    name: 'sexo',\n    label: 'Sexo',\n    options: {\n      filter: true,\n      sort: true\n    }\n  },\n  {\n    name: 'id',\n    label: 'Id',\n    options: {\n      filter: false,\n      sort: false,\n      display: false\n    }\n  }\n]\n\nconst data = []\n\nconst options = {\n  selectableRows: 'none',\n  filter: false,\n  print: false,\n  download: false,\n  viewColumns: false,\n  onRowClick: e => {\n    history.push({\n      pathname: '/aluno',\n      state: { id: e[e.length - 1] }\n    })\n    window.location.reload()\n  }\n}\n\nclass listaDeAlunos extends Component {\n  constructor() {\n    super()\n    this.state = {\n      alunos: null\n    }\n  }\n\n  componentDidMount() {\n    const config = {\n      headers: {\n        Authorization: localStorage.FBidToken\n      }\n    }\n    axios\n      .get('/listaDeAlunos', config)\n      .then(res => {\n        console.log(res.data)\n        for (let aluno in res.data) {\n          res.data[aluno].sexo = res.data[aluno].sexo ? 'Masculino' : 'Feminino'\n          data.push(res.data[aluno])\n        }\n        this.setState({\n          alunos: true\n        })\n        console.log(data)\n      })\n      .catch(err => {\n        this.setState({\n          errors: err.response.data,\n          alunos: true\n        })\n      })\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      alunos: null\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.alunos && (\n          <MUIDataTable\n            title={'Alunos'}\n            data={data}\n            columns={columns}\n            options={options}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default listaDeAlunos\n"]},"metadata":{},"sourceType":"module"}